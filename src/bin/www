const app = require('../app');
const databaseConnect = require('../sequelize').connect;

const port = parseInt(process.env.PORT || '3000', 10);

(async () => {
  
  try {
    
    await databaseConnect();

    app.listen(port);

    console.log(`Server started and listening on port ${port}`);
  }
  catch (error) {

    console.log(error.name);
    console.log(error.message);
    console.log(error.stack);

    process.exit(1);
  }
})();